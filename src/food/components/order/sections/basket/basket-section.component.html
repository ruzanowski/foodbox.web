<div class="theiaStickySidebar wow slideInRight">
    <div id="cart_box">
        <h3>Twój koszyk <i class="icon_cart_alt float-right"></i></h3>
        <div *ngIf="this.basketService.itemsAny$ | async">
            <label>Produkty</label>
            <table class="table table_summary">
                <thead>
                <tr>
                    <th>

                    </th>
                    <th>
                        Zestaw
                    </th>
                    <th>
                        Cena
                    </th>
                    <th>
                        Kcal
                    </th>
                    <th>
                        Okres
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of this.basketService.items$ | async">
                    <td>
                        <a (click)="basketService.remove(item)"
                           class="remove_item">
                            <i class="icon_trash_alt"></i>
                        </a>
                    </td>
                    <td>
                        <strong>{{ item.count }}x</strong> {{ itemsService.getProduct(item.productId).name }}
                    </td>
                    <td>
                        <strong>{{ itemsService.getPriceNominal(item) | number: '1.2-2'}}</strong>
                    </td>
                    <td>
                        {{ itemsService.getCalory(item.caloriesId).name}}
                    </td>
                    <td>
                        <order-calendar [orderBasketItem]="item"></order-calendar>
                    </td>
                </tr>
                </tbody>
            </table>
            <hr/>
        </div>
        <table class="table table_summary">
            <tbody>
            <tr>
                <td>Wartość zamówienia <span
                        class="float-right">{{this.basketService.totalPriceWithoutDiscountsAndFees$ | async | number: '1.2-2' }} zł</span></td>
            </tr>
            <tr *ngIf="this.basketService.totalDeliveryPrice$ | async">
                <td>Dostawa <span class="float-right">{{this.basketService.totalDeliveryPrice$ | async | number: '1.2-2'}} zł</span></td>
            </tr>
            <tr *ngIf="this.basketService.totalCutleryPrice$ | async">
                <td>Sztućce <span class="float-right">{{this.basketService.totalCutleryPrice$ | async | number: '1.2-2'}} zł</span></td>
            </tr>
            <tr *ngIf="this.basketService.totalDiscounts$ | async">
                <td class="discount ">
                    <i class="icon_star"></i>
                    OSZCZĘDZASZ <span class="float-right">{{this.basketService.totalDiscounts$ | async | number: '1.2-2'}} zł</span>
                </td>
            </tr>
            <tr>
                <td class="total">
                    SUMA <span class="float-right">{{this.basketService.totalPrice$ | async | number: '1.2-2'}} zł</span>
                </td>
            </tbody>
        </table>
        <hr/>
        <a class="btn_full"
           routerLink="{{nextLink}}"
           routerLinkActive="active"
           [ngStyle]="{'backgroundColor': (this.basketService.itemsAny$ | async)? '#ec008c' : '#555' }"
        >PRZEJDŹ DALEJ</a>
        <a *ngIf="previousLinkExists"
           class="btn_full_outline "
           routerLink="/{{previousLink}}"
           routerLinkActive="active"
        ><i class="icon-right"></i> DODAJ PRZEDMIOTY</a
        >
    </div>
</div>
