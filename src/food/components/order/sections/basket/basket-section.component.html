<div class="theiaStickySidebar wow slideInRight">
    <div id="cart_box">
        <h3>Twój koszyk <i class="icon_cart_alt float-right"></i></h3>
        <div *ngIf="this.basketService.basket?.items?.length > 0">
            <label>Produkty</label>
            <table class="table table_summary">
                <thead>
                <tr>
                    <th>

                    </th>
                    <th>
                        Ilość
                    </th>
                    <th>
                        Zestaw
                    </th>
                    <th>
                        Cena
                    </th>
                    <th>
                        Kcal
                    </th>
                    <th>
                        Okres
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of this.basketService.basket?.items">
                    <td>
                        <a (click)="basketService.remove(item.productId, item.count, item.caloriesId)"
                           class="remove_item">
                            <i class="icon_trash_alt"></i>
                        </a>
                    </td>
                    <td>
                        <strong>{{ item.count }}x</strong>
                    </td>
                    <td>
                        {{ itemsService.getProduct(item.productId).name }}
                    </td>
                    <td>
                        <strong>{{ itemsService.getProduct(item.productId).priceGross }}</strong>
                    </td>
                    <td>
                        {{ itemsService.getCalory(item.caloriesId).name}}
                    </td>
                    <td>
                        <order-calendar [orderBasketItem]="item"></order-calendar>
                    </td>
                </tr>
                </tbody>
            </table>
            <hr/>
        </div>

<!--        <div>-->

<!--            <label>Kalendarz</label>-->
<!--            <mat-calendar #calendar-->
<!--                          (selectedChange)="select($event,calendar)"-->
<!--                          [dateClass]="isSelected"-->
<!--                          [dateFilter]="dateFilter">-->
<!--            </mat-calendar>-->
<!--            <hr/>-->
<!--        </div>-->
        <table class="table table_summary">
            <tbody>
            <tr>
                <td>Wartość zamówienia <span
                        class="float-right">{{this.basketService.basket?.totalPrice}} zł</span></td>
            </tr>
            <tr *ngIf="this.basketService.basket?.totalDeliveryPrice > 0">
                <td>Dostawa <span class="float-right">{{this.basketService.basket?.totalDeliveryPrice}} zł</span></td>
            </tr>
            <tr *ngIf="this.basketService.basket?.totalDiscounts >0">
                <td class="discount ">
                    <i class="icon_star"></i>
                    OSZCZĘDZASZ <span class="float-right">{{this.basketService.basket?.totalDiscounts}} zł</span>
                </td>
            </tr>
            <tr>
                <td class="total">
                    SUMA <span class="float-right">{{this.basketService.basket?.totalPrice}} zł</span>
                </td>
            </tr>
            </tbody>
        </table>
        <hr/>
        <a class="btn_full"
           routerLink="{{nextLink}}"
           routerLinkActive="active"
           [ngStyle]="{'backgroundColor': this.basketService.any() === true ? '#ec008c' : '#555' }"
        >PRZEJDŹ DALEJ</a>
        <a *ngIf="previousLinkExists"
           class="btn_full_outline "
           routerLink="/{{previousLink}}"
           routerLinkActive="active"
        ><i class="icon-right"></i> DODAJ PRZEDMIOTY</a
        >
    </div>
</div>
